%!TEX TS-program = xelatex

\documentclass[draft, oneside, final]{vutinfth}

% -- Packages ------------------------------------------------------------------

\usepackage{fontspec}
\usepackage[sorting=ynt, style=alphabetic, backend=biber]{biblatex}
\usepackage{booktabs}
\usepackage{enumitem}
\usepackage{microtype}
\usepackage{nag}
\usepackage{titlesec}
\usepackage{xcolor}
\usepackage{xelatexemoji}
\usepackage{hyperref}
\usepackage[acronym, toc]{glossaries}

% -- Attributes ----------------------------------------------------------------

\newcommand{\authorname}{René Schwaiger}
\newcommand{\thesistitle}{Parsing of Configuration Files}

\setauthor{}{\authorname}{}{male}
\setadvisor{Ao.Univ.Prof. Dipl.-Ing. Dr.techn.}{Franz Puntigam}{}{male}
\setfirstassistant{Markus Raab}{Markus Raab}{}{male}

\setaddress{Waldmüllergasse 9}
\setregnumber{0425176}
\setdate{\day}{\month}{\year}
\settitle{\thesistitle}{Parsing von Konfigurationsdateien}

\setthesis{master}
\setmasterdegree{dipl.}

\setcurriculum{Computer Engineering}{Technische Informatik}

% -- Settings ------------------------------------------------------------------

% Bibliography
\addbibresource{References.bib}

% Colors
\definecolor{Red}{rgb}{0.84, 0.15, 0.19}
\definecolor{Blue}{rgb}{0, 0.41, 0.60}

% Fonts
\setmainfont[Mapping=tex-text]{Seravek}
\setsansfont[Mapping=tex-text]{Ubuntu}
\setmonofont[Scale=MatchLowercase]{Menlo}

% Hyperref
\hypersetup{
  pdfauthor = {\authorname},
  pdftitle = {\thesistitle},
  pdfsubject = {Comparison of Different Parsing Methods},
  pdfkeywords = {Parsing, Configuration, Elektra},
  colorlinks=true,
  linkcolor=black,
  anchorcolor=black,
  citecolor=Red,
  urlcolor=Red
}

% Glossary
\makeindex
\makeglossaries

% Indentation & Paragraphs
\nonzeroparskip
\setlength{\parindent}{0pt}

% Page Numbering
\renewcommand{\pagenumbering}[1]{}

% Section & Paragraph Style
\titleformat{\section}{\large\sffamily\bfseries}{}{0pt}{\thesection~}
  [{\color{Red}\hrule}]

% -- Glossary ------------------------------------------------------------------

\newacronym{KDB}{KDB}{key database}
\newacronym{YAML}{YAML}{YAML Ain't Markup Language}

% -- Document ------------------------------------------------------------------

\begin{document}

\frontmatter

\addtitlepage{naustrian}
\addtitlepage{english}
\addstatementpage

\selectlanguage{english}

\tableofcontents

\mainmatter

\chapter{Introduction}

\section{Motivation \& Problem Statement}
\label{sec:Motivation}

\begin{sloppypar}
\emph{Parsing} is the process of taking input and converting it into a data structure~\cite{wikipedia2016Parser, grune2007parsing}. Research around this topic focuses on how to process the input and the general computational complexity of algorithms to handle certain kind of \emph{formal languages}.
\end{sloppypar}

This thesis concerns itself with the parsing process of languages that are able to express configuration data (e.g. INI, TOML, YAML). These languages form an interesting subpart of formal languages, since most computer programs only store and access key-value based persistent configuration data.

Just like people disagree about the “best” configuration format, there is currently no consensus, as to which is the ideal way to parse configuration data. There are many possible ways to parse and store data. Notable examples include:

\begin{itemize}
  \item Bidirectional programming~\cite{foster2005combinators, bohannon2006relational, lutterkort2008augeas, ko2016bigul, raab2016improving}
  \item Code produced by a parser generator~\cite{denny2008ielr, parr2014adaptive, warth2016modular, bates2017aprt}
  \item Serialization libraries~\cite{sumaray2012cds, pacini2015performance}
  \item Hand-written parsers~\cite{myers2008cparser, bendersky2012clang}
\end{itemize}

Currently the possibility to compare different parsing techniques is limited. The naive approach would be to just run different parsers on the same data. In practice however, this approach is not usable, since parser tools tend to produce very different data structures. Some of them do not produce data structures at all, instead they let the user specify subroutines that should be called when the parser matches parts of the grammar.

As part of this thesis we will tackle this problem, by using different parsing techniques within a common configuration framework. This integration eliminates the problem of comparing the parsing process under different circumstances, since the data structures the parsers create will always be the same. In this novel approach we will use \href{http://web.libelektra.org}{Elektra}, a key-value database, as configuration framework. Elektra’s storage plugin interface will act as foundation for the parsing process. In the end the thesis should provide answers about which parsing techniques provide an ideal balance between performance and usability.

\section{Aim of the Work}
\label{sec:Aim_Of_The_Work}

Elektra~\cite{raab2010modular} is a plugin based framework that stores configuration parameters in a \glsdesc{KDB}. Elektra reads and stores configuration data via so-called \emph{storage plugins}. In this thesis we will compare various ways of parsing by writing and generating parsing code for different storage plugins.

For this purpose we wrote a storage plugin that parses a minimal subset of \glstext{YAML}, a human readable configuration language. We started by writing new parsing code using different techniques. The parsing code is configurable at compile time. We used the following parsing technologies:

\begin{itemize}
  \item Handwritten Parser (Recursive Descent)
  \item ALL(*)-Parser Generator (\href{http://www.antlr.org}{ANTLR})
  \item LR-Parser Generator (\href{https://www.gnu.org/software/bison}{GNU Bison})
  \item Earley Parser (\href{https://github.com/vnmakarov/yaep}{yaep})
  \item PEG-Parser (\href{https://github.com/ColinH/PEGTL}{PEGTL})
  \item Parser Combinator (\href{https://github.com/orangeduck/mpc}{mpc})
  \item Bidirectional Programming (\href{http://augeas.net}{Augeas})
\end{itemize}

We compared the parsing code according to the following criteria:

\begin{itemize}
  \item Run-Time Performance
  \item Memory Usage
  \item Code Size
  \item Overall Code Complexity
  \item Ease of Extensibility and Composability
  \item Error Reporting
\end{itemize}

After we finished the parsing code and comparison of the minimal (but challenging) YAML subset, we wrote a more complete \glstext{YAML} parser using the most promising technique.

In the scope of the above comparison we answered the following questions:

\begin{itemize}[label=❓]

  \item Which parsing technique allows us to stay closest to the definition of the configuration language?

  \item Are hand-written parsers faster, than the ones generated by a parser generator?

\end{itemize}
\backmatter

% -- Glossary & References -----------------------------------------------------

\printglossaries
\printbibliography

\end{document}
